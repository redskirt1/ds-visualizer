<div class="control-panel">
  <h3>控制面板</h3>

  <div class="controls">
    <div class="input-section">
      <div class="form-group">
        <label for="insertValue">插入节点值</label>
        <div class="input-with-button">
          <input
            type="number"
            id="insertValue"
            [(ngModel)]="insertValue"
            placeholder="输入数字"
          />
          <button class="btn primary" (click)="onInsert()">插入</button>
        </div>
      </div>

      <div class="form-group">
        <label for="searchType">搜索算法</label>
        <div class="search-controls">
          <select id="searchType" [(ngModel)]="searchType">
            <option value="dfs">深度优先搜索 (DFS)</option>
            <option value="bfs">广度优先搜索 (BFS)</option>
          </select>
          <button class="btn" (click)="onSearch()">执行搜索</button>
        </div>
      </div>

      <div class="form-group">
        <label for="speed">播放速度</label>
        <div class="speed-controls">
          <select id="speed" [(ngModel)]="speed" (change)="onSpeedChange()">
            <option [value]="0.5">0.5x</option>
            <option [value]="1">1x</option>
            <option [value]="2">2x</option>
            <option [value]="4">4x</option>
          </select>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <div class="button-group">
        <button class="btn" (click)="onStep()">⏭️ 单步执行</button>
        <button class="btn" (click)="onPause()">⏸️ 暂停</button>
      </div>

      <div class="button-group">
        <button class="btn danger" (click)="onClear()">🗑️ 清空树结构</button>
        <button class="btn test" (click)="onTestRotation()">🧪 演示旋转</button>
      </div>

      <div class="button-group">
        <button class="btn" (click)="onExport()">📤 导出 JSON</button>
        <input
          type="file"
          accept=".json"
          (change)="onImport($event)"
          class="file-input"
          id="importFile"
          title="导入JSON文件"
        />
        <button
          class="btn"
          onclick="document.querySelector('.file-input').click()"
        >
          📥 导入 JSON
        </button>
      </div>
    </div>
  </div>
</div>
